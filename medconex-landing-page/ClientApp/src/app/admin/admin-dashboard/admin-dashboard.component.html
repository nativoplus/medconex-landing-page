<header id="header-wrap" class="affix" data-offset-top="55">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <nav class="navbar navbar-default">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:void(0)">

            </a>
          </div>
          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right" id="top-menu">
              <li><a routerLink="/" routerLinkActive="active">Home</a></li>
              <li class="active"><a routerLink="/admin-dashboard" routerLinkActive="active">Admin dashboard</a></li>
              <li><a href="#" onclick="return false;" (click)="logOut()">Log out</a></li>
            </ul>
          </div>
          <!-- /.navbar-collapse -->
        </nav>
      </div>
    </div>
  </div>
</header>

<div class="main-content">
  <section class="overview-block-ptb white-bg">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="heading-title">            
            <h2 class="title iq-tw-6">Analytics</h2>
            <div class="divider"></div>
            <p></p>
          </div>
        </div>
      </div>
      <div class="row">
        <div [ngClass]="!showGrid ? 'col-md-offset-4 col-md-4' : 'col-md-3'">
          <div class="iq-fancy-box-02 text-center cursor-pointer" (click)="showGrid = !showGrid; getActiveUsers()">
            <div class="iq-icon">
              <i aria-hidden="true" class="ion-ios-people-outline"></i>
            </div>
            <div class="fancy-content">
              <h5 class="iq-tw-6 iq-pt-20 iq-pb-10">Total Active Users</h5>
              <h5 class="iq-tw-5">{{activeUsers.length}}</h5>
            </div>
          </div>
        </div>
        <div class="col-md-9 re9-mt-50" *ngIf="showGrid">
          <div class="iq-fancy-box-02 text-center">
            <div class="iq-icon">
              <i aria-hidden="true" class="ion-ios-person-outline"></i>
            </div>
            <div class="fancy-content">
              <h5 class="iq-tw-6 iq-pt-20 iq-pb-10">Active Users</h5>
              <active-users-grid></active-users-grid>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="re9-mt-50 iq-mt-50" [ngClass]="!showGrid ? 'col-md-offset-1 col-md-10' : 'col-md-offset-3 col-md-9'">
          <div class="iq-fancy-box-02 text-center">
            <div class="iq-icon">
              <i aria-hidden="true" class="ion-ios-medkit-outline"></i>
            </div>
            <div class="fancy-content">
              <h5 class="iq-tw-6 iq-pt-20 iq-pb-10">Medication Adherence</h5>
              <medications-grid></medications-grid>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
